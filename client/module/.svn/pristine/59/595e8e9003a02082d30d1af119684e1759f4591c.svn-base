[
    {
        "_acl": null,
        "_acl_delete": null,
        "_acl_edit": null,
        "_acl_tmp": null,
        "_acl_tmp_delete": null,
        "_acl_tmp_edit": null,
        "action_id": null,
        "created": "2012-08-17 18:00:59",
        "created_by": "-1",
        "data_conflict": null,
        "deleted": "0",
        "description": null,
        "else_condition": null,
        "event": "afterProcessData",
        "filter_path": "\/module\/cases\/model\/tickets",
        "id": "52611f7e-3148-4977-8674-1d890acef1b9",
        "if_condition": "1",
        "is_commit_pending": "0",
        "is_demo_data": "0",
        "is_public": "1",
        "is_terminal": null,
        "lft": null,
        "md5": null,
        "message_error": null,
        "message_info": null,
        "message_warn": null,
        "modified": "2013-07-04 13:48:00",
        "modified_by": "1",
        "module_id": "27264b27-e746-11e3-aad5-0800275f9930",
        "name": "Tickets - Initialization",
        "old_parent_id": null,
        "owned_by": "-2",
        "parent_id": null,
        "record_flags": null,
        "revision": "1",
        "rgt": null,
        "run_once": null,
        "runlevel": "2",
        "stage_id": null,
        "then_condition": "if(!isset($object->data['type_id'])){\r\n   $configTicketTypes=current($object->config_ticket_types->read(6));\r\n   if(!empty($configTicketTypes)){\r\n\t$object->data['type_id']=$configTicketTypes['id'];\r\n        $object->data['__type_id']=$configTicketTypes['ticket_type']; \r\n   }\r\n}\r\nif(!isset($object->data['start_date'])){\r\n   $object->data['start_date']=\\tushar\\locale::systemDate().' '.\\tushar\\locale::systemTime();\r\n}\r\nif(!isset($object->data['form_open_datetime'])){\r\n    $object->data['form_open_datetime'] =\\tushar\\locale::systemDate().' '.\\tushar\\locale::systemTime();\r\n}"
    },
    {
        "_acl": null,
        "_acl_delete": null,
        "_acl_edit": null,
        "_acl_tmp": null,
        "_acl_tmp_delete": null,
        "_acl_tmp_edit": null,
        "action_id": null,
        "created": "2013-02-27 14:11:41",
        "created_by": "-1",
        "data_conflict": null,
        "deleted": "0",
        "description": null,
        "else_condition": null,
        "event": "beforeSave",
        "filter_path": "\/module\/cases\/model\/tickets",
        "id": "52611f7e-6ab4-4367-9f2a-1d890acef1b9",
        "if_condition": "(!isset($object->data['metatype']) || empty($object->data['metatype'])) \r\n&& \r\n(isset($object->data['type_id']) && !empty($object->data['type_id'])) ",
        "is_commit_pending": "0",
        "is_demo_data": "0",
        "is_public": "1",
        "is_terminal": null,
        "lft": null,
        "md5": null,
        "message_error": null,
        "message_info": null,
        "message_warn": null,
        "modified": "2013-11-11 12:56:21",
        "modified_by": "1",
        "module_id": "27264b27-e746-11e3-aad5-0800275f9930",
        "name": "Compute Metatype for Tickets",
        "old_parent_id": null,
        "owned_by": "-2",
        "parent_id": null,
        "record_flags": null,
        "revision": "1",
        "rgt": null,
        "run_once": null,
        "runlevel": "2",
        "stage_id": null,
        "then_condition": "    $ticketType = \\current(\\module\\cases\\model\\config_ticket_types::getInstance(array(), true)\r\n                    ->read($object->data['type_id'],false));\r\n    if (!empty($ticketType)) {\r\n\t\/\/ if client created.\r\n       $metatypeID = \\select(\"metatypes.id\")\r\n                ->from(\\module\\flexflow\\model\\metatypes::getInstance(array(), true))\r\n                ->joinInner('schemas')\r\n                ->inserted()\r\n                ->where('schemas.name', 'Project Management')\r\n                ->where('metatypes.name', $ticketType['business_key'])\r\n                ->limit(1)\r\n                ->execute()\r\n                ->fetch(\\PDO::FETCH_COLUMN, 0);\r\n        if (!empty($metatypeID)) {\r\n            $object->data['metatype']=$metatypeID;\r\n        }\r\n    }\r\n"
    }
]
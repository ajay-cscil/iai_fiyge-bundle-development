[
    {
        "_acl": null,
        "_acl_delete": null,
        "_acl_edit": null,
        "_acl_tmp": null,
        "_acl_tmp_delete": null,
        "_acl_tmp_edit": null,
        "action_id": null,
        "created": "2013-10-12 09:55:14",
        "created_by": "-1",
        "data_conflict": null,
        "deleted": "0",
        "description": null,
        "else_condition": null,
        "event": null,
        "filter_path": "\/module\/flexflow_test\/model\/patterns",
        "id": "52611f7e-0370-4d53-bbdc-1d890acef1b9",
        "if_condition": "1",
        "is_commit_pending": "0",
        "is_demo_data": "0",
        "is_public": "1",
        "is_terminal": null,
        "lft": null,
        "md5": null,
        "message_error": null,
        "message_info": null,
        "message_warn": null,
        "modified": "2013-10-12 09:57:12",
        "modified_by": "1",
        "module_id": "27262be5-e746-11e3-aad5-0800275f9930",
        "name": "Simple Merge",
        "old_parent_id": null,
        "owned_by": "-2",
        "parent_id": null,
        "record_flags": null,
        "revision": "1",
        "rgt": null,
        "run_once": null,
        "runlevel": "2",
        "stage_id": null,
        "then_condition": "$incoming=$object->incoming();\r\n$allDone=true;\r\nforeach($incoming as $node){\r\n      if(!empty($node['exit_time'])){\r\n       $object->setRUN($object->node(),true);     \r\n      }\r\n}"
    },
    {
        "_acl": null,
        "_acl_delete": null,
        "_acl_edit": null,
        "_acl_tmp": null,
        "_acl_tmp_delete": null,
        "_acl_tmp_edit": null,
        "action_id": null,
        "created": "2013-07-11 19:06:47",
        "created_by": "-1",
        "data_conflict": null,
        "deleted": "0",
        "description": null,
        "else_condition": null,
        "event": null,
        "filter_path": "\/module\/flexflow_test\/model\/patterns",
        "id": "52611f7e-d558-4c99-a158-1d890acef1b9",
        "if_condition": "1",
        "is_commit_pending": "0",
        "is_demo_data": "0",
        "is_public": "1",
        "is_terminal": null,
        "lft": null,
        "md5": null,
        "message_error": null,
        "message_info": null,
        "message_warn": null,
        "modified": "2013-10-11 23:47:19",
        "modified_by": "1",
        "module_id": "27262be5-e746-11e3-aad5-0800275f9930",
        "name": "Synchronization",
        "old_parent_id": null,
        "owned_by": "-2",
        "parent_id": null,
        "record_flags": null,
        "revision": "1",
        "rgt": null,
        "run_once": null,
        "runlevel": "2",
        "stage_id": null,
        "then_condition": "$incoming=$object->incoming();\r\n$allDone=true;\r\nforeach($incoming as $node){\r\n      if(empty($node['exit_time'])){\r\n            $allDone=false;\r\n            break;\r\n      }\r\n}\r\nif($allDone===true){\r\n$object->setRUN($object->node(),true);\r\n}"
    },
    {
        "_acl": null,
        "_acl_delete": null,
        "_acl_edit": null,
        "_acl_tmp": null,
        "_acl_tmp_delete": null,
        "_acl_tmp_edit": null,
        "action_id": null,
        "created": "2013-07-11 20:07:43",
        "created_by": "-1",
        "data_conflict": null,
        "deleted": "0",
        "description": null,
        "else_condition": null,
        "event": null,
        "filter_path": "\/module\/flexflow_test\/model\/patterns",
        "id": "52611f7e-da6c-40ef-b080-1d890acef1b9",
        "if_condition": "$object->data['entity']['amount'] < 5000",
        "is_commit_pending": "0",
        "is_demo_data": "0",
        "is_public": "1",
        "is_terminal": null,
        "lft": null,
        "md5": null,
        "message_error": null,
        "message_info": null,
        "message_warn": null,
        "modified": "2013-10-10 13:34:19",
        "modified_by": "1",
        "module_id": "27262be5-e746-11e3-aad5-0800275f9930",
        "name": "amount > 5000",
        "old_parent_id": null,
        "owned_by": "-2",
        "parent_id": null,
        "record_flags": null,
        "revision": "1",
        "rgt": null,
        "run_once": null,
        "runlevel": "2",
        "stage_id": null,
        "then_condition": "$object->terminateSelf(true);"
    },
    {
        "_acl": null,
        "_acl_delete": null,
        "_acl_edit": null,
        "_acl_tmp": null,
        "_acl_tmp_delete": null,
        "_acl_tmp_edit": null,
        "action_id": null,
        "created": "2013-07-11 20:11:26",
        "created_by": "-1",
        "data_conflict": null,
        "deleted": "0",
        "description": null,
        "else_condition": null,
        "event": null,
        "filter_path": "\/module\/flexflow_test\/model\/patterns",
        "id": "52611f7e-df80-4bb8-a789-1d890acef1b9",
        "if_condition": "$object->data['entity']['amount'] > 5000",
        "is_commit_pending": "0",
        "is_demo_data": "0",
        "is_public": "1",
        "is_terminal": null,
        "lft": null,
        "md5": null,
        "message_error": null,
        "message_info": null,
        "message_warn": null,
        "modified": "2013-10-10 13:34:40",
        "modified_by": "1",
        "module_id": "27262be5-e746-11e3-aad5-0800275f9930",
        "name": "amount<=5000",
        "old_parent_id": null,
        "owned_by": "-2",
        "parent_id": null,
        "record_flags": null,
        "revision": "1",
        "rgt": null,
        "run_once": null,
        "runlevel": "2",
        "stage_id": null,
        "then_condition": "$object->terminateSelf(true);"
    },
    {
        "_acl": null,
        "_acl_delete": null,
        "_acl_edit": null,
        "_acl_tmp": null,
        "_acl_tmp_delete": null,
        "_acl_tmp_edit": null,
        "action_id": null,
        "created": "2013-10-09 20:26:55",
        "created_by": "-1",
        "data_conflict": null,
        "deleted": "0",
        "description": null,
        "else_condition": null,
        "event": null,
        "filter_path": "\/module\/flexflow_test\/model\/patterns",
        "id": "52611f7e-f434-4c68-be1c-1d890acef1b9",
        "if_condition": "$object->data['entity']['amount'] = 1",
        "is_commit_pending": "0",
        "is_demo_data": "0",
        "is_public": "1",
        "is_terminal": null,
        "lft": null,
        "md5": null,
        "message_error": null,
        "message_info": null,
        "message_warn": null,
        "modified": "2013-10-12 10:41:13",
        "modified_by": "1",
        "module_id": "27262be5-e746-11e3-aad5-0800275f9930",
        "name": "Choice = 1",
        "old_parent_id": null,
        "owned_by": "-2",
        "parent_id": null,
        "record_flags": null,
        "revision": "1",
        "rgt": null,
        "run_once": null,
        "runlevel": "2",
        "stage_id": null,
        "then_condition": "$object->terminateSelf(true);"
    },
    {
        "_acl": null,
        "_acl_delete": null,
        "_acl_edit": null,
        "_acl_tmp": null,
        "_acl_tmp_delete": null,
        "_acl_tmp_edit": null,
        "action_id": null,
        "created": "2013-10-09 20:36:37",
        "created_by": "-1",
        "data_conflict": null,
        "deleted": "0",
        "description": null,
        "else_condition": null,
        "event": null,
        "filter_path": "\/module\/flexflow_test\/model\/patterns",
        "id": "52611f7e-f948-4c5d-980a-1d890acef1b9",
        "if_condition": "$object->data['entity']['amount'] > 5000",
        "is_commit_pending": "0",
        "is_demo_data": "0",
        "is_public": "1",
        "is_terminal": null,
        "lft": null,
        "md5": null,
        "message_error": null,
        "message_info": null,
        "message_warn": null,
        "modified": "2013-10-10 17:59:20",
        "modified_by": "1",
        "module_id": "27262be5-e746-11e3-aad5-0800275f9930",
        "name": "Terminate on amount>5000",
        "old_parent_id": null,
        "owned_by": "-2",
        "parent_id": null,
        "record_flags": null,
        "revision": "1",
        "rgt": null,
        "run_once": null,
        "runlevel": "2",
        "stage_id": null,
        "then_condition": "$object->terminateSelf(true);"
    },
    {
        "_acl": null,
        "_acl_delete": null,
        "_acl_edit": null,
        "_acl_tmp": null,
        "_acl_tmp_delete": null,
        "_acl_tmp_edit": null,
        "action_id": "40",
        "created": "2013-10-25 17:28:44",
        "created_by": "-1",
        "data_conflict": null,
        "deleted": "0",
        "description": null,
        "else_condition": null,
        "event": null,
        "filter_path": "\/module\/flexflow_test\/model\/patterns",
        "id": "526aaa4c-f540-4618-b308-6f090aec906d",
        "if_condition": "1",
        "is_commit_pending": "0",
        "is_demo_data": "0",
        "is_public": "1",
        "is_terminal": null,
        "lft": null,
        "md5": null,
        "message_error": null,
        "message_info": null,
        "message_warn": null,
        "modified": null,
        "modified_by": null,
        "module_id": "27262be5-e746-11e3-aad5-0800275f9930",
        "name": "Parallel Split",
        "old_parent_id": null,
        "owned_by": "-2",
        "parent_id": null,
        "record_flags": null,
        "revision": "1",
        "rgt": null,
        "run_once": null,
        "runlevel": "2",
        "stage_id": null,
        "then_condition": "$object->exitNode();"
    },
    {
        "_acl": null,
        "_acl_delete": null,
        "_acl_edit": null,
        "_acl_tmp": null,
        "_acl_tmp_delete": null,
        "_acl_tmp_edit": null,
        "action_id": "41",
        "created": "2013-10-25 22:14:53",
        "created_by": "-1",
        "data_conflict": null,
        "deleted": "0",
        "description": null,
        "else_condition": null,
        "event": null,
        "filter_path": "\/module\/flexflow_test\/model\/patterns",
        "id": "526aed5d-cf5c-456a-aa1f-2fe30aec906d",
        "if_condition": "1",
        "is_commit_pending": "0",
        "is_demo_data": "0",
        "is_public": "1",
        "is_terminal": null,
        "lft": null,
        "md5": null,
        "message_error": null,
        "message_info": null,
        "message_warn": null,
        "modified": "2013-10-29 17:02:21",
        "modified_by": "1",
        "module_id": "27262be5-e746-11e3-aad5-0800275f9930",
        "name": "Synchronization",
        "old_parent_id": null,
        "owned_by": "-2",
        "parent_id": null,
        "record_flags": null,
        "revision": "1",
        "rgt": null,
        "run_once": null,
        "runlevel": "2",
        "stage_id": null,
        "then_condition": "$nodes = array();\r\n$nodeID=$object->nodeID();\r\n$openNodes=$object->openNodes(false,true);\r\n$openNodes=array_diff($openNodes,array($nodeID));\r\nif (empty($openNodes)) {\r\n    $object->exitNode();\r\n}\r\n"
    },
    {
        "_acl": null,
        "_acl_delete": null,
        "_acl_edit": null,
        "_acl_tmp": null,
        "_acl_tmp_delete": null,
        "_acl_tmp_edit": null,
        "action_id": "47",
        "created": "2013-10-28 20:14:10",
        "created_by": "-1",
        "data_conflict": null,
        "deleted": "0",
        "description": null,
        "else_condition": null,
        "event": null,
        "filter_path": "\/module\/flexflow_test\/model\/patterns",
        "id": "526ec592-6914-440a-9c93-0b7e0aec906d",
        "if_condition": "1",
        "is_commit_pending": "0",
        "is_demo_data": "0",
        "is_public": "1",
        "is_terminal": null,
        "lft": null,
        "md5": null,
        "message_error": null,
        "message_info": null,
        "message_warn": null,
        "modified": "2013-11-11 21:30:09",
        "modified_by": "1",
        "module_id": "27262be5-e746-11e3-aad5-0800275f9930",
        "name": "Exclusive Choice",
        "old_parent_id": null,
        "owned_by": "-2",
        "parent_id": null,
        "record_flags": null,
        "revision": "1",
        "rgt": null,
        "run_once": null,
        "runlevel": "2",
        "stage_id": null,
        "then_condition": "$nodeID = $object->nodeID();\r\n$nextStages=$object->nextMoveToStages($nodeID);\r\n$nextStageList=array();\r\nforeach ($nextStages as $id=>$stage) {\r\n    $nextStages[$id]['parent_id']=$nodeID; \r\n    if($object->data['entity']['amount'] > 5000 ){\r\n        if(strcasecmp($stage['name'], 'Approval By Manager (amount < 5000)') == 0 ){\r\n            $nextStages[$id]['status']='canceled';\r\n            $nextStages[$id]['message'] = 'canceled';\r\n            $nextStageList[$id]=$nextStages[$id];\r\n        }\r\n    }elseif (strcasecmp($stage['name'],'Approval By Sr.Manager (amount > 5000)') == 0 ) {\r\n             $nextStages[$id]['status']='canceled';\r\n             $nextStages[$id]['message'] = 'canceled';\r\n             $nextStageList[$id]=$nextStages[$id];\r\n    }       \r\n}\r\n\r\n$nextStageList=array_merge($nextStageList,array_diff_key($nextStages,$nextStageList));\r\n$nextNodes=$object->logNextMoveToStages($nextStageList);\r\n$object->exitNode(null,$nextNodes);"
    },
    {
        "_acl": null,
        "_acl_delete": null,
        "_acl_edit": null,
        "_acl_tmp": null,
        "_acl_tmp_delete": null,
        "_acl_tmp_edit": null,
        "action_id": "46",
        "created": "2013-10-29 13:33:08",
        "created_by": "-1",
        "data_conflict": null,
        "deleted": "0",
        "description": null,
        "else_condition": null,
        "event": null,
        "filter_path": "\/module\/flexflow_test\/model\/patterns",
        "id": "526fb914-8e5c-47d2-96d5-0dee0aec906d",
        "if_condition": "1",
        "is_commit_pending": "0",
        "is_demo_data": "0",
        "is_public": "1",
        "is_terminal": null,
        "lft": null,
        "md5": null,
        "message_error": null,
        "message_info": null,
        "message_warn": null,
        "modified": "2013-11-11 20:49:55",
        "modified_by": "1",
        "module_id": "27262be5-e746-11e3-aad5-0800275f9930",
        "name": "Multi Choice",
        "old_parent_id": null,
        "owned_by": "-2",
        "parent_id": null,
        "record_flags": null,
        "revision": "1",
        "rgt": null,
        "run_once": null,
        "runlevel": "2",
        "stage_id": null,
        "then_condition": "$nodeID = $object->nodeID();\r\n$nextStages = $object->nextMoveToStages($nodeID);\r\n$nextStageList=array();\r\nforeach ($nextStages as $id => $stage) {\r\n    $nextStages[$id]['parent_id'] = $nodeID; \r\n    if (strcasecmp($object->data['entity']['choice'], 'Person got heart attack') == 0) {\r\n        if (strcasecmp($stage['name'], 'Dispatch Police Car') == 0) {\r\n            $nextStages[$id]['status'] = 'canceled';\r\n             $nextStages[$id]['message'] = 'canceled';\r\n            $nextStageList[$id]=$nextStages[$id];\r\n        }\r\n    }\r\n    if (strcasecmp($object->data['entity']['choice'], 'Car accident') == 0) {\r\n        if (strcasecmp($stage['name'], 'Dispatch Fire Truck') == 0) {\r\n            $nextStages[$id]['status'] = 'canceled';\r\n             $nextStages[$id]['message'] = 'canceled';\r\n            $nextStageList[$id]=$nextStages[$id];\r\n        }\r\n    }\r\n}\r\n$nextStageList=array_merge($nextStageList,array_diff_key($nextStages,$nextStageList));\r\n$nextNodes=$object->logNextMoveToStages($nextStageList);\r\n$object->exitNode(null, $nextNodes);\r\n"
    },
    {
        "_acl": null,
        "_acl_delete": null,
        "_acl_edit": null,
        "_acl_tmp": null,
        "_acl_tmp_delete": null,
        "_acl_tmp_edit": null,
        "action_id": "44",
        "created": "2013-10-29 17:40:15",
        "created_by": "-1",
        "data_conflict": null,
        "deleted": "0",
        "description": null,
        "else_condition": null,
        "event": null,
        "filter_path": "\/module\/flexflow_test\/model\/patterns",
        "id": "526ff2ff-6c04-45d9-8ca7-21630aec906d",
        "if_condition": "1",
        "is_commit_pending": "0",
        "is_demo_data": "0",
        "is_public": "1",
        "is_terminal": null,
        "lft": null,
        "md5": null,
        "message_error": null,
        "message_info": null,
        "message_warn": null,
        "modified": null,
        "modified_by": null,
        "module_id": "27262be5-e746-11e3-aad5-0800275f9930",
        "name": "Approve",
        "old_parent_id": null,
        "owned_by": "-2",
        "parent_id": null,
        "record_flags": null,
        "revision": "1",
        "rgt": null,
        "run_once": null,
        "runlevel": "2",
        "stage_id": null,
        "then_condition": "$object->exitNode();"
    },
    {
        "_acl": null,
        "_acl_delete": null,
        "_acl_edit": null,
        "_acl_tmp": null,
        "_acl_tmp_delete": null,
        "_acl_tmp_edit": null,
        "action_id": "39",
        "created": "2013-10-29 17:50:35",
        "created_by": "-1",
        "data_conflict": null,
        "deleted": "0",
        "description": null,
        "else_condition": null,
        "event": null,
        "filter_path": "\/module\/flexflow_test\/model\/patterns",
        "id": "526ff56b-3bcc-4bff-8ab6-20670aec906d",
        "if_condition": "1",
        "is_commit_pending": "0",
        "is_demo_data": "0",
        "is_public": "1",
        "is_terminal": null,
        "lft": null,
        "md5": null,
        "message_error": null,
        "message_info": null,
        "message_warn": null,
        "modified": "2013-10-29 17:56:18",
        "modified_by": "1",
        "module_id": "27262be5-e746-11e3-aad5-0800275f9930",
        "name": "Terminate",
        "old_parent_id": null,
        "owned_by": "-2",
        "parent_id": null,
        "record_flags": null,
        "revision": "1",
        "rgt": null,
        "run_once": null,
        "runlevel": "2",
        "stage_id": null,
        "then_condition": "1"
    },
    {
        "_acl": null,
        "_acl_delete": null,
        "_acl_edit": null,
        "_acl_tmp": null,
        "_acl_tmp_delete": null,
        "_acl_tmp_edit": null,
        "action_id": "45",
        "created": "2013-10-29 18:14:19",
        "created_by": "-1",
        "data_conflict": null,
        "deleted": "0",
        "description": null,
        "else_condition": null,
        "event": null,
        "filter_path": "\/module\/flexflow_test\/model\/patterns",
        "id": "526ffafb-04e0-4319-b0eb-21bc0aec906d",
        "if_condition": "1",
        "is_commit_pending": "0",
        "is_demo_data": "0",
        "is_public": "1",
        "is_terminal": null,
        "lft": null,
        "md5": null,
        "message_error": null,
        "message_info": null,
        "message_warn": null,
        "modified": null,
        "modified_by": null,
        "module_id": "27262be5-e746-11e3-aad5-0800275f9930",
        "name": "Approved",
        "old_parent_id": null,
        "owned_by": "-2",
        "parent_id": null,
        "record_flags": null,
        "revision": "1",
        "rgt": null,
        "run_once": null,
        "runlevel": "2",
        "stage_id": null,
        "then_condition": "$object->exitNode();"
    },
    {
        "_acl": null,
        "_acl_delete": null,
        "_acl_edit": null,
        "_acl_tmp": null,
        "_acl_tmp_delete": null,
        "_acl_tmp_edit": null,
        "action_id": "49",
        "created": "2013-11-20 20:11:53",
        "created_by": "-1",
        "data_conflict": null,
        "deleted": "0",
        "description": null,
        "else_condition": null,
        "event": null,
        "filter_path": "\/module\/flexflow_test\/model\/patterns",
        "id": "528d1789-8df4-43bc-a2fc-080b0aec906d",
        "if_condition": "1",
        "is_commit_pending": "0",
        "is_demo_data": "0",
        "is_public": "1",
        "is_terminal": null,
        "lft": null,
        "md5": null,
        "message_error": null,
        "message_info": null,
        "message_warn": null,
        "modified": null,
        "modified_by": null,
        "module_id": "27262be5-e746-11e3-aad5-0800275f9930",
        "name": "Escalation",
        "old_parent_id": null,
        "owned_by": "-2",
        "parent_id": null,
        "record_flags": null,
        "revision": "1",
        "rgt": null,
        "run_once": null,
        "runlevel": "2",
        "stage_id": null,
        "then_condition": "$object->exitNode();"
    }
]
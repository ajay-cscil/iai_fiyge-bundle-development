{
    "schemas": [
        {
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "desc": "This Schema will be applied to the Sales Quotes. And Every Doc has to go through all the stages configured in the Workflow",
            "flags": null,
            "id": "15",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": "\\module\\sales\\model\\quotes",
            "owned_by": "1",
            "revision": "1",
            "runlevel_flag": null
        },
        {
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "desc": null,
            "flags": null,
            "id": "16",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": "\\module\\sales\\model\\sale_orders",
            "owned_by": "1",
            "revision": "1",
            "runlevel_flag": null
        }
    ],
    "types": {
        "10": {
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "desc": null,
            "flags": null,
            "id": "10",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "metatype_id": null,
            "modified": null,
            "modified_by": null,
            "name": "Quotes Require Manager's Approval",
            "old_rule_id": null,
            "owned_by": "1",
            "revision": "1",
            "rule_id": "52611f7e-2c34-4f91-b622-1d890acef1b9",
            "schema_id": "15"
        },
        "17": {
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "desc": null,
            "flags": null,
            "id": "17",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "metatype_id": null,
            "modified": null,
            "modified_by": null,
            "name": "Sales Quotes",
            "old_rule_id": null,
            "owned_by": "1",
            "revision": "1",
            "rule_id": "52611f7e-2c34-4f91-b622-1d890acef1b9",
            "schema_id": "15"
        },
        "13": {
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "desc": null,
            "flags": null,
            "id": "13",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "metatype_id": null,
            "modified": null,
            "modified_by": null,
            "name": "Sales Order",
            "old_rule_id": null,
            "owned_by": "1",
            "revision": "1",
            "rule_id": "52611f7e-2c34-4f91-b622-1d890acef1b9",
            "schema_id": "16"
        }
    },
    "stages": {
        "74": {
            "before_enter_rule_id": null,
            "before_exit_rule_id": null,
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "desc": null,
            "flags": null,
            "id": "74",
            "imported": null,
            "imported_by": null,
            "is_deemed_approved": null,
            "is_demo_data": "0",
            "is_readonly": null,
            "modified": null,
            "modified_by": null,
            "name": "Draft",
            "old_before_enter_rule_id": null,
            "old_before_exit_rule_id": null,
            "owned_by": "1",
            "revision": "1",
            "stage_flags": null,
            "type_id": "10"
        },
        "75": {
            "before_enter_rule_id": null,
            "before_exit_rule_id": null,
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "desc": null,
            "flags": null,
            "id": "75",
            "imported": null,
            "imported_by": null,
            "is_deemed_approved": "1",
            "is_demo_data": "0",
            "is_readonly": null,
            "modified": null,
            "modified_by": null,
            "name": "Pending Manager's Approval ",
            "old_before_enter_rule_id": null,
            "old_before_exit_rule_id": null,
            "owned_by": "1",
            "revision": "1",
            "stage_flags": null,
            "type_id": "10"
        },
        "76": {
            "before_enter_rule_id": null,
            "before_exit_rule_id": null,
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "desc": null,
            "flags": null,
            "id": "76",
            "imported": null,
            "imported_by": null,
            "is_deemed_approved": null,
            "is_demo_data": "0",
            "is_readonly": null,
            "modified": null,
            "modified_by": null,
            "name": "Send to Client",
            "old_before_enter_rule_id": null,
            "old_before_exit_rule_id": null,
            "owned_by": "1",
            "revision": "1",
            "stage_flags": null,
            "type_id": "10"
        },
        "183": {
            "before_enter_rule_id": null,
            "before_exit_rule_id": null,
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "desc": null,
            "flags": null,
            "id": "183",
            "imported": null,
            "imported_by": null,
            "is_deemed_approved": null,
            "is_demo_data": "0",
            "is_readonly": null,
            "modified": null,
            "modified_by": null,
            "name": "Denied",
            "old_before_enter_rule_id": null,
            "old_before_exit_rule_id": null,
            "owned_by": "1",
            "revision": "1",
            "stage_flags": null,
            "type_id": "10"
        },
        "77": {
            "before_enter_rule_id": null,
            "before_exit_rule_id": null,
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "desc": null,
            "flags": null,
            "id": "77",
            "imported": null,
            "imported_by": null,
            "is_deemed_approved": null,
            "is_demo_data": "0",
            "is_readonly": null,
            "modified": null,
            "modified_by": null,
            "name": "Pending Follow Up",
            "old_before_enter_rule_id": null,
            "old_before_exit_rule_id": null,
            "owned_by": "1",
            "revision": "1",
            "stage_flags": null,
            "type_id": "10"
        },
        "78": {
            "before_enter_rule_id": null,
            "before_exit_rule_id": null,
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "desc": null,
            "flags": null,
            "id": "78",
            "imported": null,
            "imported_by": null,
            "is_deemed_approved": null,
            "is_demo_data": "0",
            "is_readonly": "1",
            "modified": null,
            "modified_by": null,
            "name": "Closed Won",
            "old_before_enter_rule_id": null,
            "old_before_exit_rule_id": null,
            "owned_by": "1",
            "revision": "1",
            "stage_flags": null,
            "type_id": "10"
        },
        "88": {
            "before_enter_rule_id": null,
            "before_exit_rule_id": null,
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "desc": null,
            "flags": null,
            "id": "88",
            "imported": null,
            "imported_by": null,
            "is_deemed_approved": null,
            "is_demo_data": "0",
            "is_readonly": "1",
            "modified": null,
            "modified_by": null,
            "name": "Closed Lost",
            "old_before_enter_rule_id": null,
            "old_before_exit_rule_id": null,
            "owned_by": "1",
            "revision": "1",
            "stage_flags": null,
            "type_id": "10"
        },
        "107": {
            "before_enter_rule_id": null,
            "before_exit_rule_id": null,
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "desc": null,
            "flags": null,
            "id": "107",
            "imported": null,
            "imported_by": null,
            "is_deemed_approved": null,
            "is_demo_data": "0",
            "is_readonly": null,
            "modified": null,
            "modified_by": null,
            "name": "Draft",
            "old_before_enter_rule_id": null,
            "old_before_exit_rule_id": null,
            "owned_by": "1",
            "revision": "1",
            "stage_flags": null,
            "type_id": "17"
        },
        "89": {
            "before_enter_rule_id": null,
            "before_exit_rule_id": null,
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "desc": null,
            "flags": null,
            "id": "89",
            "imported": null,
            "imported_by": null,
            "is_deemed_approved": null,
            "is_demo_data": "0",
            "is_readonly": null,
            "modified": null,
            "modified_by": null,
            "name": "Draft",
            "old_before_enter_rule_id": null,
            "old_before_exit_rule_id": null,
            "owned_by": "1",
            "revision": "1",
            "stage_flags": null,
            "type_id": "13"
        },
        "90": {
            "before_enter_rule_id": null,
            "before_exit_rule_id": null,
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "desc": null,
            "flags": null,
            "id": "90",
            "imported": null,
            "imported_by": null,
            "is_deemed_approved": "1",
            "is_demo_data": "0",
            "is_readonly": null,
            "modified": null,
            "modified_by": null,
            "name": "Credit Approval by Accountant",
            "old_before_enter_rule_id": null,
            "old_before_exit_rule_id": null,
            "owned_by": "1",
            "revision": "1",
            "stage_flags": null,
            "type_id": "13"
        },
        "91": {
            "before_enter_rule_id": null,
            "before_exit_rule_id": null,
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "desc": null,
            "flags": null,
            "id": "91",
            "imported": null,
            "imported_by": null,
            "is_deemed_approved": null,
            "is_demo_data": "0",
            "is_readonly": null,
            "modified": null,
            "modified_by": null,
            "name": "Confirmed",
            "old_before_enter_rule_id": null,
            "old_before_exit_rule_id": null,
            "owned_by": "1",
            "revision": "1",
            "stage_flags": null,
            "type_id": "13"
        },
        "93": {
            "before_enter_rule_id": null,
            "before_exit_rule_id": null,
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "desc": null,
            "flags": null,
            "id": "93",
            "imported": null,
            "imported_by": null,
            "is_deemed_approved": null,
            "is_demo_data": "0",
            "is_readonly": null,
            "modified": null,
            "modified_by": null,
            "name": "Delivery Order Created",
            "old_before_enter_rule_id": null,
            "old_before_exit_rule_id": null,
            "owned_by": "1",
            "revision": "1",
            "stage_flags": null,
            "type_id": "13"
        },
        "105": {
            "before_enter_rule_id": null,
            "before_exit_rule_id": null,
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "desc": null,
            "flags": null,
            "id": "105",
            "imported": null,
            "imported_by": null,
            "is_deemed_approved": null,
            "is_demo_data": "0",
            "is_readonly": null,
            "modified": null,
            "modified_by": null,
            "name": "Invoiced",
            "old_before_enter_rule_id": null,
            "old_before_exit_rule_id": null,
            "owned_by": "1",
            "revision": "1",
            "stage_flags": null,
            "type_id": "13"
        },
        "106": {
            "before_enter_rule_id": null,
            "before_exit_rule_id": null,
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "desc": null,
            "flags": null,
            "id": "106",
            "imported": null,
            "imported_by": null,
            "is_deemed_approved": null,
            "is_demo_data": "0",
            "is_readonly": "1",
            "modified": null,
            "modified_by": null,
            "name": "Closed",
            "old_before_enter_rule_id": null,
            "old_before_exit_rule_id": null,
            "owned_by": "1",
            "revision": "1",
            "stage_flags": null,
            "type_id": "13"
        }
    },
    "actor_stage": {
        "1073": {
            "actor_id": "2",
            "can_delete": "1",
            "can_edit": "1",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "1073",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "74"
        },
        "1083": {
            "actor_id": "7",
            "can_delete": "1",
            "can_edit": "1",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "1083",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "74"
        },
        "1063": {
            "actor_id": "2",
            "can_delete": "1",
            "can_edit": "1",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "1063",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "75"
        },
        "1093": {
            "actor_id": "7",
            "can_delete": null,
            "can_edit": null,
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "1093",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "75"
        },
        "559": {
            "actor_id": "7",
            "can_delete": null,
            "can_edit": "1",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "559",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "76"
        },
        "592": {
            "actor_id": "2",
            "can_delete": "1",
            "can_edit": "1",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "592",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "76"
        },
        "801": {
            "actor_id": "15",
            "can_delete": null,
            "can_edit": null,
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "801",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "76"
        },
        "560": {
            "actor_id": "7",
            "can_delete": "1",
            "can_edit": "1",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "560",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "77"
        },
        "593": {
            "actor_id": "2",
            "can_delete": null,
            "can_edit": "1",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "593",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "77"
        },
        "811": {
            "actor_id": "15",
            "can_delete": null,
            "can_edit": null,
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "811",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "77"
        },
        "595": {
            "actor_id": "2",
            "can_delete": null,
            "can_edit": null,
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "595",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "78"
        },
        "821": {
            "actor_id": "15",
            "can_delete": null,
            "can_edit": null,
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "821",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "78"
        },
        "570": {
            "actor_id": "1",
            "can_delete": "1",
            "can_edit": "1",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "570",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "88"
        },
        "1163": {
            "actor_id": "2",
            "can_delete": "1",
            "can_edit": "1",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "1163",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "183"
        },
        "1273": {
            "actor_id": "7",
            "can_delete": "1",
            "can_edit": "1",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "1273",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "183"
        },
        "1103": {
            "actor_id": "2",
            "can_delete": "1",
            "can_edit": "1",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "1103",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "89"
        },
        "1113": {
            "actor_id": "7",
            "can_delete": "1",
            "can_edit": "1",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "1113",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "89"
        },
        "1123": {
            "actor_id": "2",
            "can_delete": "1",
            "can_edit": "1",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "1123",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "90"
        },
        "598": {
            "actor_id": "2",
            "can_delete": null,
            "can_edit": "1",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "598",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "91"
        },
        "614": {
            "actor_id": "13",
            "can_delete": null,
            "can_edit": null,
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "614",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "91"
        },
        "634": {
            "actor_id": "7",
            "can_delete": null,
            "can_edit": "1",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "634",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "91"
        },
        "599": {
            "actor_id": "2",
            "can_delete": null,
            "can_edit": "1",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "599",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "93"
        },
        "615": {
            "actor_id": "13",
            "can_delete": null,
            "can_edit": null,
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "615",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "93"
        },
        "635": {
            "actor_id": "7",
            "can_delete": null,
            "can_edit": "1",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "635",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "93"
        },
        "1173": {
            "actor_id": "14",
            "can_delete": null,
            "can_edit": null,
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "1173",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "93"
        },
        "600": {
            "actor_id": "2",
            "can_delete": null,
            "can_edit": "1",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "600",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "105"
        },
        "636": {
            "actor_id": "7",
            "can_delete": null,
            "can_edit": "1",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "636",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "105"
        },
        "1183": {
            "actor_id": "13",
            "can_delete": null,
            "can_edit": null,
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "1183",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "105"
        },
        "1193": {
            "actor_id": "14",
            "can_delete": null,
            "can_edit": null,
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "1193",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "105"
        }
    },
    "actors": {
        "2": {
            "__foreign_key": "MyOrganization.CEO.Vice President, Sales.Sales Manager",
            "created": "2015-06-01 21:34:20",
            "created_by": null,
            "deleted": "0",
            "description": null,
            "flags": null,
            "foreign_key": "ebd2b14f-efc0-11e3-8f90-12313d0872e0",
            "foreign_key_model": "roles",
            "id": "2",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": "Sales Manager",
            "owned_by": "1",
            "revision": "1"
        },
        "7": {
            "__foreign_key": "MyOrganization.CEO.Vice President, Sales.Sales Manager.Sales Representative",
            "created": "2015-06-01 21:34:20",
            "created_by": null,
            "deleted": "0",
            "description": null,
            "flags": null,
            "foreign_key": "ebd2b202-efc0-11e3-8f90-12313d0872e0",
            "foreign_key_model": "roles",
            "id": "7",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": "Sales Representative",
            "owned_by": "1",
            "revision": "1"
        },
        "15": {
            "__foreign_key": "MyOrganization.CEO.Vice President, Production.Purchase Manager",
            "created": "2015-06-01 21:34:20",
            "created_by": null,
            "deleted": "0",
            "description": null,
            "flags": null,
            "foreign_key": "ebd2c5ef-efc0-11e3-8f90-12313d0872e0",
            "foreign_key_model": "roles",
            "id": "15",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": "Purchase Manager",
            "owned_by": "1",
            "revision": "1"
        },
        "1": {
            "__foreign_key": "x_current_user",
            "created": "2015-06-01 21:29:54",
            "created_by": null,
            "deleted": "0",
            "description": null,
            "flags": null,
            "foreign_key": "10",
            "foreign_key_model": "xvars",
            "id": "1",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": "Current User",
            "owned_by": "1",
            "revision": "1"
        },
        "13": {
            "__foreign_key": "MyOrganization.CEO.Vice President, Production.Warehouse Manger",
            "created": "2015-06-01 21:34:20",
            "created_by": null,
            "deleted": "0",
            "description": null,
            "flags": null,
            "foreign_key": "ebd2c49c-efc0-11e3-8f90-12313d0872e0",
            "foreign_key_model": "roles",
            "id": "13",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": "warehouse manager",
            "owned_by": "1",
            "revision": "1"
        },
        "14": {
            "__foreign_key": "MyOrganization.CEO.Vice President, Production.Warehouse Manger.Warehouse User",
            "created": "2015-06-01 21:34:20",
            "created_by": null,
            "deleted": "0",
            "description": null,
            "flags": null,
            "foreign_key": "ebd2c546-efc0-11e3-8f90-12313d0872e0",
            "foreign_key_model": "roles",
            "id": "14",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": "warehouse user",
            "owned_by": "1",
            "revision": "1"
        }
    },
    "xvars": {
        "10": {
            "created": "2015-06-01 21:29:54",
            "created_by": null,
            "deleted": "0",
            "description": "Current Login User",
            "flags": null,
            "id": "10",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": "x_current_user",
            "owned_by": null,
            "revision": "1",
            "xvar": "$acl[]='u'.\\tushar\\user::read('id')"
        }
    },
    "roles": {
        "ebd2b14f-efc0-11e3-8f90-12313d0872e0": {
            "_acl": " u-2 u-1",
            "_acl_delete": " u-2 u-1",
            "_acl_edit": " u-2 u-1",
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "business_key": "Sales Manager",
            "created": "2011-08-24 17:02:06",
            "created_by": "-1",
            "depth": null,
            "description": null,
            "design_group_id": "14",
            "flags": null,
            "full_name": "MyOrganization.CEO.Vice President, Sales.Sales Manager",
            "id": "ebd2b14f-efc0-11e3-8f90-12313d0872e0",
            "is_demo_data": null,
            "is_public": "1",
            "lft": "28",
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": "2015-05-06 21:06:11",
            "modified_by": "-1",
            "name": "Sales Manager",
            "owned_by": "-2",
            "parent_id": "ebd2b37c-efc0-11e3-8f90-12313d0872e0",
            "revision": "1",
            "rgt": "31"
        },
        "ebd2b202-efc0-11e3-8f90-12313d0872e0": {
            "_acl": " u-2 u-1",
            "_acl_delete": " u-2 u-1",
            "_acl_edit": " u-2 u-1",
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "business_key": "Sales Representative",
            "created": "2011-08-24 17:02:06",
            "created_by": "-1",
            "depth": null,
            "description": null,
            "design_group_id": "15",
            "flags": null,
            "full_name": "MyOrganization.CEO.Vice President, Sales.Sales Manager.Sales Representative",
            "id": "ebd2b202-efc0-11e3-8f90-12313d0872e0",
            "is_demo_data": null,
            "is_public": "1",
            "lft": "29",
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": "2015-05-06 21:06:17",
            "modified_by": "-1",
            "name": "Sales Representative",
            "owned_by": "-2",
            "parent_id": "ebd2b14f-efc0-11e3-8f90-12313d0872e0",
            "revision": "1",
            "rgt": "30"
        },
        "ebd2c5ef-efc0-11e3-8f90-12313d0872e0": {
            "_acl": " u-2 u-1",
            "_acl_delete": " u-2 u-1",
            "_acl_edit": " u-2 u-1",
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "business_key": "Purchase Manager",
            "created": "2014-01-10 22:23:58",
            "created_by": "-1",
            "depth": "3",
            "description": null,
            "design_group_id": "9",
            "flags": null,
            "full_name": "MyOrganization.CEO.Vice President, Production.Purchase Manager",
            "id": "ebd2c5ef-efc0-11e3-8f90-12313d0872e0",
            "is_demo_data": null,
            "is_public": "1",
            "lft": "22",
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": "2015-05-06 21:05:27",
            "modified_by": "-1",
            "name": "Purchase Manager",
            "owned_by": "-2",
            "parent_id": "ebd2b08f-efc0-11e3-8f90-12313d0872e0",
            "revision": "1",
            "rgt": "25"
        },
        "ebd2c49c-efc0-11e3-8f90-12313d0872e0": {
            "_acl": " u-2 u-1",
            "_acl_delete": " u-2 u-1",
            "_acl_edit": " u-2 u-1",
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "business_key": "Warehouse Manger",
            "created": "2013-12-12 15:51:41",
            "created_by": "-1",
            "depth": "3",
            "description": null,
            "design_group_id": "7",
            "flags": null,
            "full_name": "MyOrganization.CEO.Vice President, Production.Warehouse Manger",
            "id": "ebd2c49c-efc0-11e3-8f90-12313d0872e0",
            "is_demo_data": null,
            "is_public": "1",
            "lft": "18",
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": "2015-05-06 21:04:27",
            "modified_by": "-1",
            "name": "Warehouse Manger",
            "owned_by": "-2",
            "parent_id": "ebd2b08f-efc0-11e3-8f90-12313d0872e0",
            "revision": "1",
            "rgt": "21"
        },
        "ebd2c546-efc0-11e3-8f90-12313d0872e0": {
            "_acl": " u-2 u-1",
            "_acl_delete": " u-2 u-1",
            "_acl_edit": " u-2 u-1",
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "business_key": "Warehouse User",
            "created": "2013-12-12 15:52:29",
            "created_by": "-1",
            "depth": "4",
            "description": null,
            "design_group_id": "8",
            "flags": null,
            "full_name": "MyOrganization.CEO.Vice President, Production.Warehouse Manger.Warehouse User",
            "id": "ebd2c546-efc0-11e3-8f90-12313d0872e0",
            "is_demo_data": null,
            "is_public": "1",
            "lft": "19",
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": "2015-05-06 21:04:34",
            "modified_by": "-1",
            "name": "Warehouse User",
            "owned_by": "-2",
            "parent_id": "ebd2c49c-efc0-11e3-8f90-12313d0872e0",
            "revision": "1",
            "rgt": "20"
        }
    },
    "groups": [],
    "possible_actions": {
        "121": {
            "__action_id": "Draft",
            "action_id": "1",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "121",
            "imported": null,
            "imported_by": null,
            "is_default": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "74"
        },
        "122": {
            "__action_id": "Submit",
            "action_id": "2",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "122",
            "imported": null,
            "imported_by": null,
            "is_default": "1",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "74"
        },
        "182": {
            "__action_id": "Send to Client",
            "action_id": "75",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "182",
            "imported": null,
            "imported_by": null,
            "is_default": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "74"
        },
        "123": {
            "__action_id": "Approve",
            "action_id": "3",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "123",
            "imported": null,
            "imported_by": null,
            "is_default": "1",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "75"
        },
        "124": {
            "__action_id": "Deny Quotes",
            "action_id": "113",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "124",
            "imported": null,
            "imported_by": null,
            "is_default": "1",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "75"
        },
        "125": {
            "__action_id": "Sent to Client",
            "action_id": "43",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "125",
            "imported": null,
            "imported_by": null,
            "is_default": "1",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "76"
        },
        "127": {
            "__action_id": "Convert to Sales Order ",
            "action_id": "50",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "127",
            "imported": null,
            "imported_by": null,
            "is_default": "1",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "77"
        },
        "139": {
            "__action_id": "Closed Lost",
            "action_id": "52",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "139",
            "imported": null,
            "imported_by": null,
            "is_default": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "77"
        },
        "143": {
            "__action_id": "Move to Draft",
            "action_id": "54",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "143",
            "imported": null,
            "imported_by": null,
            "is_default": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "77"
        },
        "187": {
            "__action_id": "Resend",
            "action_id": "77",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "187",
            "imported": null,
            "imported_by": null,
            "is_default": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "77"
        },
        "293": {
            "__action_id": "Resubmit for Approval",
            "action_id": "95",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "293",
            "imported": null,
            "imported_by": null,
            "is_default": "1",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "183"
        },
        "140": {
            "__action_id": "Submit",
            "action_id": "2",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "140",
            "imported": null,
            "imported_by": null,
            "is_default": "1",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "89"
        },
        "141": {
            "__action_id": "Draft",
            "action_id": "1",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "141",
            "imported": null,
            "imported_by": null,
            "is_default": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "89"
        },
        "142": {
            "__action_id": "Approve",
            "action_id": "3",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "142",
            "imported": null,
            "imported_by": null,
            "is_default": "1",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "90"
        },
        "294": {
            "__action_id": "Deny",
            "action_id": "113",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "294",
            "imported": null,
            "imported_by": null,
            "is_default": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "90"
        },
        "172": {
            "__action_id": "Create Delivery Order",
            "action_id": "51",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "172",
            "imported": null,
            "imported_by": null,
            "is_default": "1",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "91"
        },
        "176": {
            "__action_id": "Create Invoice",
            "action_id": "72",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "176",
            "imported": null,
            "imported_by": null,
            "is_default": "1",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "93"
        },
        "180": {
            "__action_id": "Paid",
            "action_id": "37",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "180",
            "imported": null,
            "imported_by": null,
            "is_default": "1",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "owned_by": "1",
            "revision": "1",
            "stage_id": "105"
        }
    },
    "actions": {
        "1": {
            "actions_flags": null,
            "class": null,
            "collection_set": "_workflow",
            "created": "2015-06-01 21:29:54",
            "created_by": null,
            "deleted": "0",
            "escalation_time": null,
            "flags": null,
            "full_name": "Draft",
            "id": "1",
            "imported": null,
            "imported_by": null,
            "is_default": null,
            "is_demo_data": null,
            "is_scheduled": null,
            "label": "Save As Draft",
            "lft": "1",
            "modified": null,
            "modified_by": null,
            "name": "Draft",
            "old_rule_id": null,
            "owned_by": null,
            "parent_id": null,
            "parent_name": null,
            "past_tense_label": "Saved As Draft",
            "revision": "1",
            "rgt": "2",
            "rule_id": null
        },
        "2": {
            "actions_flags": null,
            "class": null,
            "collection_set": "_workflow",
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "escalation_time": null,
            "flags": null,
            "full_name": "Submit",
            "id": "2",
            "imported": null,
            "imported_by": null,
            "is_default": null,
            "is_demo_data": null,
            "is_scheduled": null,
            "label": "Submit For Approval",
            "lft": "45",
            "modified": null,
            "modified_by": null,
            "name": "Submit",
            "old_rule_id": null,
            "owned_by": null,
            "parent_id": null,
            "parent_name": null,
            "past_tense_label": "Submitted For Approval",
            "revision": "1",
            "rgt": "46",
            "rule_id": null
        },
        "75": {
            "actions_flags": null,
            "class": null,
            "collection_set": "_workflow",
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "escalation_time": null,
            "flags": null,
            "full_name": "Send to Client",
            "id": "75",
            "imported": null,
            "imported_by": null,
            "is_default": null,
            "is_demo_data": null,
            "is_scheduled": null,
            "label": "Send to Client",
            "lft": "47",
            "modified": null,
            "modified_by": null,
            "name": "Send to Client",
            "old_rule_id": null,
            "owned_by": "1",
            "parent_id": null,
            "parent_name": null,
            "past_tense_label": "Sent to Client",
            "revision": "1",
            "rgt": "48",
            "rule_id": null
        },
        "3": {
            "actions_flags": null,
            "class": null,
            "collection_set": "_workflow",
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "escalation_time": null,
            "flags": null,
            "full_name": "Approve",
            "id": "3",
            "imported": null,
            "imported_by": null,
            "is_default": null,
            "is_demo_data": null,
            "is_scheduled": null,
            "label": "Approve",
            "lft": "49",
            "modified": null,
            "modified_by": null,
            "name": "Approve",
            "old_rule_id": null,
            "owned_by": null,
            "parent_id": null,
            "parent_name": null,
            "past_tense_label": "Approved",
            "revision": "1",
            "rgt": "50",
            "rule_id": null
        },
        "113": {
            "actions_flags": null,
            "class": null,
            "collection_set": "_workflow",
            "created": "2015-06-01 21:34:20",
            "created_by": null,
            "deleted": "0",
            "escalation_time": null,
            "flags": null,
            "full_name": " Deny",
            "id": "113",
            "imported": null,
            "imported_by": null,
            "is_default": null,
            "is_demo_data": null,
            "is_scheduled": null,
            "label": " Deny",
            "lft": "33",
            "modified": null,
            "modified_by": null,
            "name": " Deny",
            "old_rule_id": null,
            "owned_by": "1",
            "parent_id": null,
            "parent_name": null,
            "past_tense_label": " Denied",
            "revision": "1",
            "rgt": "34",
            "rule_id": null
        },
        "43": {
            "actions_flags": null,
            "class": null,
            "collection_set": "_workflow",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "escalation_time": null,
            "flags": null,
            "full_name": "Sent to Client",
            "id": "43",
            "imported": null,
            "imported_by": null,
            "is_default": null,
            "is_demo_data": null,
            "is_scheduled": null,
            "label": "Send",
            "lft": "51",
            "modified": null,
            "modified_by": null,
            "name": "Sent to Client",
            "old_rule_id": null,
            "owned_by": "1",
            "parent_id": null,
            "parent_name": null,
            "past_tense_label": "Sent to client",
            "revision": "1",
            "rgt": "52",
            "rule_id": null
        },
        "50": {
            "actions_flags": null,
            "class": null,
            "collection_set": "_workflow",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "escalation_time": null,
            "flags": null,
            "full_name": "Convert to Sales Order",
            "id": "50",
            "imported": null,
            "imported_by": null,
            "is_default": null,
            "is_demo_data": null,
            "is_scheduled": null,
            "label": "Convert to Sales Order",
            "lft": "53",
            "modified": null,
            "modified_by": null,
            "name": "Convert to Sales Order",
            "old_rule_id": null,
            "owned_by": "1",
            "parent_id": null,
            "parent_name": null,
            "past_tense_label": "Converted to Sales Order ",
            "revision": "1",
            "rgt": "54",
            "rule_id": null
        },
        "52": {
            "actions_flags": null,
            "class": null,
            "collection_set": "_workflow",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "escalation_time": null,
            "flags": null,
            "full_name": "Closed Lost",
            "id": "52",
            "imported": null,
            "imported_by": null,
            "is_default": null,
            "is_demo_data": null,
            "is_scheduled": null,
            "label": "Closed Lost",
            "lft": "55",
            "modified": null,
            "modified_by": null,
            "name": "Closed Lost",
            "old_rule_id": null,
            "owned_by": "1",
            "parent_id": null,
            "parent_name": null,
            "past_tense_label": "Closed Lost",
            "revision": "1",
            "rgt": "56",
            "rule_id": null
        },
        "54": {
            "actions_flags": null,
            "class": null,
            "collection_set": "_workflow",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "escalation_time": null,
            "flags": null,
            "full_name": "Move to Draft",
            "id": "54",
            "imported": null,
            "imported_by": null,
            "is_default": null,
            "is_demo_data": null,
            "is_scheduled": null,
            "label": "Move to Draft",
            "lft": "57",
            "modified": null,
            "modified_by": null,
            "name": "Move to Draft",
            "old_rule_id": null,
            "owned_by": "1",
            "parent_id": null,
            "parent_name": null,
            "past_tense_label": "Moved to Draft",
            "revision": "1",
            "rgt": "58",
            "rule_id": null
        },
        "77": {
            "actions_flags": null,
            "class": null,
            "collection_set": "_workflow",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "escalation_time": null,
            "flags": null,
            "full_name": "Resend",
            "id": "77",
            "imported": null,
            "imported_by": null,
            "is_default": null,
            "is_demo_data": null,
            "is_scheduled": null,
            "label": "Resend",
            "lft": "59",
            "modified": null,
            "modified_by": null,
            "name": "Resend",
            "old_rule_id": null,
            "owned_by": "1",
            "parent_id": null,
            "parent_name": null,
            "past_tense_label": "Resent",
            "revision": "1",
            "rgt": "60",
            "rule_id": null
        },
        "95": {
            "actions_flags": null,
            "class": null,
            "collection_set": "_workflow",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "escalation_time": null,
            "flags": null,
            "full_name": "Resubmit for Approval",
            "id": "95",
            "imported": null,
            "imported_by": null,
            "is_default": null,
            "is_demo_data": null,
            "is_scheduled": null,
            "label": "Resubmit for Approval",
            "lft": "61",
            "modified": null,
            "modified_by": null,
            "name": "Resubmit for Approval",
            "old_rule_id": null,
            "owned_by": "1",
            "parent_id": null,
            "parent_name": null,
            "past_tense_label": "Resubmitted for Approval",
            "revision": "1",
            "rgt": "62",
            "rule_id": null
        },
        "51": {
            "actions_flags": null,
            "class": null,
            "collection_set": "_workflow",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "escalation_time": null,
            "flags": null,
            "full_name": "Create Delivery Order",
            "id": "51",
            "imported": null,
            "imported_by": null,
            "is_default": null,
            "is_demo_data": null,
            "is_scheduled": null,
            "label": "Create Delivery Order",
            "lft": "63",
            "modified": null,
            "modified_by": null,
            "name": "Create Delivery Order",
            "old_rule_id": null,
            "owned_by": "1",
            "parent_id": null,
            "parent_name": null,
            "past_tense_label": "Delivery Order Created",
            "revision": "1",
            "rgt": "64",
            "rule_id": null
        },
        "72": {
            "actions_flags": null,
            "class": null,
            "collection_set": "_workflow",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "escalation_time": null,
            "flags": null,
            "full_name": "Create Invoice",
            "id": "72",
            "imported": null,
            "imported_by": null,
            "is_default": null,
            "is_demo_data": null,
            "is_scheduled": null,
            "label": "Create Invoice",
            "lft": "65",
            "modified": null,
            "modified_by": null,
            "name": "Create Invoice",
            "old_rule_id": null,
            "owned_by": "1",
            "parent_id": null,
            "parent_name": null,
            "past_tense_label": "Invoice Created ",
            "revision": "1",
            "rgt": "66",
            "rule_id": null
        },
        "37": {
            "actions_flags": null,
            "class": null,
            "collection_set": "_workflow",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "escalation_time": null,
            "flags": null,
            "full_name": "Paid",
            "id": "37",
            "imported": null,
            "imported_by": null,
            "is_default": null,
            "is_demo_data": null,
            "is_scheduled": null,
            "label": "Paid",
            "lft": "67",
            "modified": null,
            "modified_by": null,
            "name": "Paid",
            "old_rule_id": "108",
            "owned_by": "102",
            "parent_id": null,
            "parent_name": null,
            "past_tense_label": "Paid",
            "revision": "1",
            "rgt": "68",
            "rule_id": "52611f7e-8030-40d5-b446-1d890acef1b9"
        }
    },
    "notifications": {
        "4": {
            "business_key": null,
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "4",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "notification_bcc": null,
            "notification_body": "&lt;html&gt;<br>&nbsp;&nbsp;&nbsp; &lt;td width=\"98%\" valign=\"top\" align=\"center\"&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;table cellspacing=\"0\" cellpadding=\"0\" width=\"575\" border=\"0\" bgcolor=\"#DFDFDF\" style=\"font-family:Arial;border:solid 1p",
            "notification_cc": "gtomar@primarymodules.com",
            "notification_flags": null,
            "notification_subject": "Need Response On Flexflow Doc # {{entity.name}}",
            "notification_to": "vbehal@primarymodules.com",
            "owned_by": "1",
            "revision": "1"
        }
    },
    "business_rules": {
        "52611f7e-2c34-4f91-b622-1d890acef1b9": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": null,
            "created": "2014-06-19 11:00:20",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "-",
            "id": "52611f7e-2c34-4f91-b622-1d890acef1b9",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": null,
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": null,
            "modified_by": null,
            "module_id": "27262150-e746-11e3-aad5-0800275f9930",
            "name": "Always True",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": null,
            "record_flags": null,
            "revision": "1",
            "rgt": null,
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": " "
        },
        "52a6374c-6934-4ca0-9c6a-132a0a550b97": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "75",
            "created": "2013-12-09 21:34:04",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/sales\/model\/quotes",
            "id": "52a6374c-6934-4ca0-9c6a-132a0a550b97",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": null,
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": "2014-02-15 19:25:56",
            "modified_by": "1",
            "module_id": "272638e3-e746-11e3-aad5-0800275f9930",
            "name": "Action 'send to client'",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": null,
            "record_flags": null,
            "revision": "1",
            "rgt": null,
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "\/\/ if not set, then set draft as current node.\r\n        \/\/  log is empty\r\n        if (!$object->isLogSet()) {\r\n            \/\/  set nodes\r\n            $object->setWorkflowLog(array(array('can_edit' => 1, 'foreign_key' => \\tushar\\user::read('id'), 'foreign_key_model' => 'users')));\r\n        }\r\n        \/\/  then set draft as current node.->invoke enter event for current stage\r\n        $node = $object->node($object->nodeID());\r\n        \/\/ check if node is valid and exists in log.\r\n        if ($node['status'] == 'open') {\r\n            $object->logAction($node['id']);\r\n            \/\/ exit current stage\r\n            $object->exitNode();\r\n        }"
        },
        "52a5dbd1-b8fc-4d95-879a-6e1e0a550b97": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "3",
            "created": "2013-12-09 15:03:45",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/stock\/model\/delivery_orders",
            "id": "52a5dbd1-b8fc-4d95-879a-6e1e0a550b97",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": null,
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": "2013-12-09 21:42:06",
            "modified_by": "1",
            "module_id": "27263d19-e746-11e3-aad5-0800275f9930",
            "name": "Action 'Approve'",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": null,
            "record_flags": null,
            "revision": "1",
            "rgt": null,
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": " $object->exitNode();"
        },
        "5392ebea-e8f0-4a9d-922c-61880af91b9d": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "3",
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/appraisal\/model\/appraisals",
            "id": "5392ebea-e8f0-4a9d-922c-61880af91b9d",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "0",
            "is_terminal": null,
            "lft": null,
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": null,
            "modified_by": null,
            "module_id": "27265ed9-e746-11e3-aad5-0800275f9930",
            "name": "Appraisals",
            "old_parent_id": null,
            "owned_by": null,
            "parent_id": null,
            "record_flags": null,
            "revision": "1",
            "rgt": null,
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "$object->exitNode();"
        },
        "53209b8a-5d0c-472c-bd1d-23a3ac100612": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "113",
            "created": "2014-03-12 17:38:18",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/sales\/model\/quotes",
            "id": "53209b8a-5d0c-472c-bd1d-23a3ac100612",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": "112",
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": null,
            "modified_by": null,
            "module_id": "272638e3-e746-11e3-aad5-0800275f9930",
            "name": "Deny Quotes",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": "52611f7e-2c34-4f91-b622-1d890acef1b9",
            "record_flags": null,
            "revision": "2",
            "rgt": "113",
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "$object->exitNode();"
        },
        "53209bd7-e6f0-45c2-b74f-239aac100612": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "113",
            "created": "2014-03-12 17:39:35",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/sales\/model\/quotes",
            "id": "53209bd7-e6f0-45c2-b74f-239aac100612",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": "114",
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": null,
            "modified_by": null,
            "module_id": "272638e3-e746-11e3-aad5-0800275f9930",
            "name": "Deny Quotes",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": "52611f7e-2c34-4f91-b622-1d890acef1b9",
            "record_flags": null,
            "revision": "2",
            "rgt": "115",
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "$object->exitNode();"
        },
        "53209d7c-b098-44f8-ad2d-2508ac100612": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "113",
            "created": "2014-03-12 17:46:36",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/sales\/model\/quotes",
            "id": "53209d7c-b098-44f8-ad2d-2508ac100612",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": "145",
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": null,
            "modified_by": null,
            "module_id": "272638e3-e746-11e3-aad5-0800275f9930",
            "name": "Deny Quotes",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": null,
            "record_flags": null,
            "revision": "2",
            "rgt": "146",
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "$object->exitNode();"
        },
        "5320a20c-40d8-4bda-b1e6-28e3ac100612": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "113",
            "created": "2014-03-12 18:06:04",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/purchase\/model\/purchase_quotes",
            "id": "5320a20c-40d8-4bda-b1e6-28e3ac100612",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": "163",
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": "2014-03-12 18:06:22",
            "modified_by": "1",
            "module_id": "27263e01-e746-11e3-aad5-0800275f9930",
            "name": "Deny Quotes",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": null,
            "record_flags": null,
            "revision": "2",
            "rgt": "164",
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "$object->exitNode();"
        },
        "5322265f-1974-4602-a9f3-19c3ac10068d": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "113",
            "created": "2014-03-13 21:42:55",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/stock\/model\/inbound_shipments",
            "id": "5322265f-1974-4602-a9f3-19c3ac10068d",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": null,
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": null,
            "modified_by": null,
            "module_id": "27263d19-e746-11e3-aad5-0800275f9930",
            "name": "Deny Quote",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": null,
            "record_flags": null,
            "revision": "1",
            "rgt": null,
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "$object->exitNode();"
        },
        "53309dc4-e224-4cf5-8ff7-2bd90af91b9d": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "113",
            "created": "2014-03-24 21:04:04",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/sales\/model\/sale_orders",
            "id": "53309dc4-e224-4cf5-8ff7-2bd90af91b9d",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": "159",
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": null,
            "modified_by": null,
            "module_id": "272638e3-e746-11e3-aad5-0800275f9930",
            "name": "Deny Quotes",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": null,
            "record_flags": null,
            "revision": "2",
            "rgt": "160",
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "$object->exitNode();"
        },
        "538360db-6074-45ef-8cff-1470ac1007a5": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "113",
            "created": "2015-06-01 21:34:20",
            "created_by": null,
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/leave_management\/model\/leaves",
            "id": "538360db-6074-45ef-8cff-1470ac1007a5",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "0",
            "is_terminal": null,
            "lft": null,
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": null,
            "modified_by": null,
            "module_id": "27265500-e746-11e3-aad5-0800275f9930",
            "name": "Leaves",
            "old_parent_id": null,
            "owned_by": "1",
            "parent_id": null,
            "record_flags": null,
            "revision": "1",
            "rgt": null,
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "$object->exitNode();"
        },
        "5388a299-e4d0-4a76-aec8-2955ac1007a5": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "113",
            "created": "2015-06-01 21:34:20",
            "created_by": null,
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/leave_management\/model\/leave_allocations",
            "id": "5388a299-e4d0-4a76-aec8-2955ac1007a5",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "0",
            "is_terminal": null,
            "lft": null,
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": null,
            "modified_by": null,
            "module_id": "27265500-e746-11e3-aad5-0800275f9930",
            "name": "Leave Allocation",
            "old_parent_id": null,
            "owned_by": "1",
            "parent_id": null,
            "record_flags": null,
            "revision": "1",
            "rgt": null,
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "$object->exitNode();"
        },
        "5297c016-5608-402e-b034-54b90a550b97": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "43",
            "created": "2013-11-28 22:13:42",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/sales\/model\/quotes",
            "id": "5297c016-5608-402e-b034-54b90a550b97",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": null,
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": "2014-09-11 20:08:39",
            "modified_by": "1",
            "module_id": "272638e3-e746-11e3-aad5-0800275f9930",
            "name": "Sent",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": null,
            "record_flags": null,
            "revision": "1",
            "rgt": null,
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "$object->exitNode();\r\n$data=$object->data;\r\n\r\n\/\/ localize dates\r\n        $data['entity']['effective_from'] = \\tushar\\locale::localize($data['entity']['effective_from'],DATE);\r\n        $data['entity']['effective_to'] = \\tushar\\locale::localize($data['entity']['effective_to'],DATE);\r\n\r\n\/\/ read account details\r\n$account = current(\\module\\crm\\model\\accounts::getInstance()->read($object->data['entity']['account_id']));\r\n        $to = (\r\n            isset($account['email_addresses']) && isset($account['email_addresses'][0]) \r\n            ? $account['email_addresses'][0] : ''\r\n            );\r\n        if (is_array($to)) {\r\n            $to = $to['email'];\r\n        }\r\n        $data['accounts']=$account;        \r\n\/\/ read template        \r\n        $printviewObj = \\module\\core\\model\\printviews::getInstance();\r\n        $template = \\select(\"*\")->from($printviewObj)->inserted()->where('business_key', \"quotes\")->execute()->fetch(\\PDO::FETCH_ASSOC);\r\n        if (empty($template)) {\r\n            throw new \\Exception(sprintf(__(\"Please configure printview template with key \\\"%s\\\"\",\"module\"), 'quotes'));\r\n        }\r\n        if (empty($to)) {\r\n            throw new \\Exception(__(\"Account does not have email address configured\"));\r\n        }\r\n\/\/ read email template        \r\n        \/*\r\n        $notification = \\tushar\\configuration::read('quotes');\r\n        $notification=isset($notification['send_quote_to_client_email'])?$notification['send_quote_to_client_email']:array();  \r\n        if (empty($notification)) {\r\n            throw new \\Exception(sprintf(__(\"Please configure quote email to be send to client in sales.quotes.send_quote_to_client_email\",\"module\"), 'quotes'));\r\n        }*\/\r\n        \r\n        $notificationEmail=\\module\\core\\model\\email_templates::getInstance()\r\n        ->template('send_quote_to_client_email','sales\/quotes');\r\n        if (empty($notificationEmail)) {\r\n            throw new \\Exception(sprintf(__(\"Please configure quote email to be send to client with business key send_quote_to_client_email\",\"module\"), 'quotes'));\r\n        }\r\n        $notification=array('subject'=>$notificationEmail['name'],'body'=>$notificationEmail['content']);\r\n\r\n        $pages = \\module\\core\\controller\\printviews_domain_logic::processTags($template['content']);\r\n        $companyObject =\\module\\crm_base\\model\\companies::getInstance(array(), true); \r\n        $company=current($companyObject->read(\\tushar\\user::read('company_id')));\r\n        $company['images']=\\select(\"*\")\r\n                            ->from($companyObject->images)\r\n                            ->inserted()\r\n                            ->where(\r\n                                array(\r\n                                'related_to'=>$company['id'],\r\n                                'related_to_model'=>'companies'\r\n                                )\r\n                            )->execute()\r\n                            ->fetch(\\PDO::FETCH_ASSOC);\r\n        $data['companies']=$company; \r\n\r\n\r\n\/\/ generate pdf\r\n        $filename = tempnam(TMP, \"pdf-\") . \".pdf\";\r\n        $handle = fopen($filename, \"w\");\r\n        $view = new \\tushar\\view(\\tushar\\request::getInstance());\r\n        $view->generatePDF($pages, $template, $company)->render(false, $handle);\r\n        $notification['body'] = htmlspecialchars_decode($notification['body']);\r\n$data['users']=\\tushar\\user::readAll();\r\n\/\/ compose email\r\n        $email = array(\r\n            'attachments' => array(array('mime_type' => 'application\/pdf', 'error' => 0, 'tmp_name' => $filename, 'name' => 'Quotes.pdf'))\r\n            , 'subject' => $notification['subject']\r\n            , 'body' => $notification['body']\r\n            , 'email_to_recipients' => $to\r\n        );\r\n        if (\\tushar\\user::read('id') == false) {\r\n            $email['from_name'] = \\tushar\\configuration::read('administrator_name');\r\n            $email['from_email'] = \\tushar\\configuration::read('administrator_email');\r\n        }\r\n        \r\n        \/\/ process merge words in email subject\r\n        $array = \\tushar\\string::split($email['subject'], array(\"merge_words\" => \"\/\\{\\{[\\.\\w\\-]*\\}\\}\/i\"));\r\n        list($strings, $extracts) = $array;\r\n        if (isset($extracts['merge_words']) && is_array($extracts['merge_words'])) {\r\n            $extracts['merge_words'] = \\tushar\\string::cleanWords($extracts['merge_words']);\r\n            $extracts['merge_words'] = \\tushar\\string::populateWords($extracts['merge_words'], $data);\r\n            $email['subject'] = \\tushar\\string::merge($strings, $extracts);\r\n        }\r\n        \r\n        \/\/ process merge words in email body\r\n        $array = \\tushar\\string::split($email['body'], array(\"merge_words\" => \"\/\\{\\{[\\.\\w\\-]*\\}\\}\/i\"));\r\n        list($strings, $extracts) = $array;\r\n        if (isset($extracts['merge_words']) && is_array($extracts['merge_words'])) {\r\n            $extracts['merge_words'] = \\tushar\\string::cleanWords($extracts['merge_words']);\r\n            $extracts['merge_words'] = \\tushar\\string::populateWords($extracts['merge_words'], $data);\r\n            $email['body'] = \\tushar\\string::merge($strings, $extracts);\r\n        }\r\n        \r\n        \/\/ send email\r\n        $emailObj = \\module\\activities\\model\\emails::getInstance();\r\n        $emailObj->attachments->moveFile = false;\r\n        \r\n        $email = $emailObj->saveAndSend($email, array('atomic' => true, 'validate' => false));\r\n        fclose($handle);\r\n        unlink($filename);\r\n"
        },
        "5297c0e5-d358-4e0b-84cd-541a0a550b97": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "50",
            "created": "2013-11-28 22:17:09",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/sales\/model\/quotes",
            "id": "5297c0e5-d358-4e0b-84cd-541a0a550b97",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": null,
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": "2014-04-03 23:59:33",
            "modified_by": "1",
            "module_id": "272638e3-e746-11e3-aad5-0800275f9930",
            "name": "Convert To Sales Order On Quote Submission",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": null,
            "record_flags": null,
            "revision": "1",
            "rgt": null,
            "run_once": null,
            "runlevel": "2",
            "stage_id": "77",
            "then_condition": "$dataQuote=$object->data['entity'];\r\nif(is_array($dataQuote)){\r\n   $soObject=\\module\\sales\\model\\sale_orders::getInstance();\r\n   $dataQuote['quote_id']=$dataQuote['id'];\r\n  \r\n   $dataQuote['request_delivery']=date('Y-m-d H:i:s');\r\n   $dataQuote['delivery_date']=date(\"Y-m-d H:i:s\", strtotime(\"+ 10 day\"));\r\n   $dataQuote=array_diff_key($dataQuote,\r\n   array($soObject->primaryKey=>1,\r\n   'status'=>1,\r\n   '_acl'=>1,\r\n   '_acl_edit'=>1,\r\n   '_acl_delete'=>1));\r\n   if(isset($dataQuote['quote_lines']) && is_array($dataQuote['quote_lines'])){\r\n       $dataQuote['sale_order_lines']=array();\r\n       foreach($dataQuote['quote_lines'] as $line){\r\n           if(!(isset($line['deleted']) && $line['deleted'] == 1)){\r\n              unset($line['id']);\r\n              if(isset($line['line_taxes']) && is_array($line['line_taxes'])){\r\n                foreach($line['line_taxes'] as $k=>$v){\r\n                     $line['line_taxes'][$k]=array_diff_key($v,array('id'=>1,'related_to'=>1,'related_to_model'=>1,'__related_to'=>1));\r\n                }\r\n              }\r\n              $dataQuote['sale_order_lines'][]=$line;       \r\n           }\r\n       }\r\n       unset($dataQuote['quote_lines']);\r\n   }\r\n    if(isset($dataQuote['line_taxes_summary']) && is_array($dataQuote['line_taxes_summary'])){\r\n        foreach($dataQuote['line_taxes_summary'] as $k=>$v){\r\n            $dataQuote['line_taxes_summary'][$k]=array_diff_key($v,array('id'=>1,'related_to'=>1,'related_to_model'=>1,'__related_to'=>1));\r\n        }\r\n    }\r\n            \r\n   \r\n   \r\n   $dataQuote['action'] = array('draft'=>'draft');\r\n   if($soObject->save($dataQuote,array('atomic'=>true, 'validate'=>FALSE))){\r\n       $object->exitNode();\r\n   }    \r\n}"
        },
        "52a0fd8e-3928-4380-ba7d-78a90a550b97": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "52",
            "created": "2013-12-05 22:26:22",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/sales\/model\/quotes",
            "id": "52a0fd8e-3928-4380-ba7d-78a90a550b97",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": null,
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": null,
            "modified_by": null,
            "module_id": "272638e3-e746-11e3-aad5-0800275f9930",
            "name": "Closed Lost",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": null,
            "record_flags": null,
            "revision": "1",
            "rgt": null,
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "$object->exitNode();"
        },
        "52a38cd5-6b88-4159-927d-7c110a550b97": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "54",
            "created": "2013-12-07 21:02:13",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/sales\/model\/quotes",
            "id": "52a38cd5-6b88-4159-927d-7c110a550b97",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": null,
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": null,
            "modified_by": null,
            "module_id": "272638e3-e746-11e3-aad5-0800275f9930",
            "name": "Approve",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": null,
            "record_flags": null,
            "revision": "1",
            "rgt": null,
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "$object->exitNode();"
        },
        "52dacba5-a32c-415a-9c3e-600a0ac22bdf": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "54",
            "created": "2014-01-18 18:44:53",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/accounting\/model\/invoices",
            "id": "52dacba5-a32c-415a-9c3e-600a0ac22bdf",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": null,
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": null,
            "modified_by": null,
            "module_id": "2726306c-e746-11e3-aad5-0800275f9930",
            "name": "Refund - Stay in Paid only",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": null,
            "record_flags": null,
            "revision": "1",
            "rgt": null,
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "$object->exitNode();"
        },
        "53c69f25-978c-4a1a-97c7-37a00af91b9d": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "54",
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/payroll\/model\/payslips",
            "id": "53c69f25-978c-4a1a-97c7-37a00af91b9d",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "0",
            "is_terminal": null,
            "lft": null,
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": null,
            "modified_by": null,
            "module_id": "2726591e-e746-11e3-aad5-0800275f9930",
            "name": "move_to_draft_payslip",
            "old_parent_id": null,
            "owned_by": null,
            "parent_id": null,
            "record_flags": null,
            "revision": "1",
            "rgt": null,
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": " $object->exitNode();"
        },
        "52b98e0b-63dc-4c94-a620-19310a550b97": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "77",
            "created": "2013-12-24 13:37:15",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/sales\/model\/quotes",
            "id": "52b98e0b-63dc-4c94-a620-19310a550b97",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": null,
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": "2014-09-11 20:09:02",
            "modified_by": "1",
            "module_id": "272638e3-e746-11e3-aad5-0800275f9930",
            "name": "Resent",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": null,
            "record_flags": null,
            "revision": "1",
            "rgt": null,
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "$data=$object->data;\r\n\r\n\/\/ localize dates\r\n        $data['entity']['effective_from'] = \\tushar\\locale::localize($data['entity']['effective_from'],DATE);\r\n        $data['entity']['effective_to'] = \\tushar\\locale::localize($data['entity']['effective_to'],DATE);\r\n\r\n\/\/ read account details\r\n$account = current(\\module\\crm\\model\\accounts::getInstance()->read($object->data['entity']['account_id']));\r\n        $to = (\r\n            isset($account['email_addresses']) && isset($account['email_addresses'][0]) \r\n            ? $account['email_addresses'][0] : ''\r\n            );\r\n        if (is_array($to)) {\r\n            $to = $to['email'];\r\n        }\r\n        $data['accounts']=$account;        \r\n\/\/ read template        \r\n        $printviewObj = \\module\\core\\model\\printviews::getInstance();\r\n        $template = \\select(\"*\")->from($printviewObj)->inserted()->where('business_key', \"quotes\")->execute()->fetch(\\PDO::FETCH_ASSOC);\r\n        if (empty($template)) {\r\n            throw new \\Exception(sprintf(__(\"Please configure printview template with key \\\"%s\\\"\",\"module\"), 'quotes'));\r\n        }\r\n        if (empty($to)) {\r\n            throw new \\Exception(__(\"Account does not have email address configured\"));\r\n        }\r\n\/\/ read email template        \r\n        \/*\r\n        $notification = \\tushar\\configuration::read('quotes');\r\n        $notification=isset($notification['send_quote_to_client_email'])?$notification['send_quote_to_client_email']:array();  \r\n        if (empty($notification)) {\r\n            throw new \\Exception(sprintf(__(\"Please configure quote email to be send to client in sales.quotes.send_quote_to_client_email\",\"module\"), 'quotes'));\r\n        }*\/\r\n    \r\n        $notificationEmail=\\module\\core\\model\\email_templates::getInstance()\r\n        ->template('send_quote_to_client_email','sales\/quotes');\r\n        if (empty($notificationEmail)) {\r\n            throw new \\Exception(sprintf(__(\"Please configure quote email to be send to client with business key send_quote_to_client_email\",\"module\"), 'quotes'));\r\n        }\r\n        $notification=array('subject'=>$notificationEmail['name'],'body'=>$notificationEmail['content']);\r\n        \r\n        \r\n\r\n        $pages = \\module\\core\\controller\\printviews_domain_logic::processTags($template['content']);\r\n        $company = current(\\module\\crm_base\\model\\companies::getInstance(array(), true)->read(\\tushar\\user::read('company_id')));\r\n$data['companies']=$company; \r\n\r\n\r\n\/\/ generate pdf\r\n        $filename = tempnam(TMP, \"pdf-\") . \".pdf\";\r\n        $handle = fopen($filename, \"w\");\r\n        $view = new \\tushar\\view(\\tushar\\request::getInstance());\r\n        $view->generatePDF($pages, $template, $company)->render(false, $handle);\r\n        $notification['body'] = htmlspecialchars_decode($notification['body']);\r\n$data['users']=\\tushar\\user::readAll();\r\n\/\/ compose email\r\n        $email = array(\r\n            'attachments' => array(array('mime_type' => 'application\/pdf', 'error' => 0, 'tmp_name' => $filename, 'name' => 'Quotes.pdf'))\r\n            , 'subject' => $notification['subject']\r\n            , 'body' => $notification['body']\r\n            , 'email_to_recipients' => $to\r\n        );\r\n        if (\\tushar\\user::read('id') == false) {\r\n            $email['from_name'] = \\tushar\\configuration::read('administrator_name');\r\n            $email['from_email'] = \\tushar\\configuration::read('administrator_email');\r\n        }\r\n        \r\n        \/\/ process merge words in email subject\r\n        $array = \\tushar\\string::split($email['subject'], array(\"merge_words\" => \"\/\\{\\{[\\.\\w\\-]*\\}\\}\/i\"));\r\n        list($strings, $extracts) = $array;\r\n        if (isset($extracts['merge_words']) && is_array($extracts['merge_words'])) {\r\n            $extracts['merge_words'] = \\tushar\\string::cleanWords($extracts['merge_words']);\r\n            $extracts['merge_words'] = \\tushar\\string::populateWords($extracts['merge_words'], $data);\r\n            $email['subject'] = \\tushar\\string::merge($strings, $extracts);\r\n        }\r\n        \r\n        \/\/ process merge words in email body\r\n        $array = \\tushar\\string::split($email['body'], array(\"merge_words\" => \"\/\\{\\{[\\.\\w\\-]*\\}\\}\/i\"));\r\n        list($strings, $extracts) = $array;\r\n        if (isset($extracts['merge_words']) && is_array($extracts['merge_words'])) {\r\n            $extracts['merge_words'] = \\tushar\\string::cleanWords($extracts['merge_words']);\r\n            $extracts['merge_words'] = \\tushar\\string::populateWords($extracts['merge_words'], $data);\r\n            $email['body'] = \\tushar\\string::merge($strings, $extracts);\r\n        }\r\n        \r\n        \/\/ send email\r\n        $emailObj = \\module\\activities\\model\\emails::getInstance();\r\n        $emailObj->attachments->moveFile = false;\r\n        \r\n        $email = $emailObj->saveAndSend($email, array('atomic' => true, 'validate' => false));\r\n        fclose($handle);\r\n        unlink($filename);\r\n"
        },
        "52d96d2b-1120-473c-baca-58d90ac22bdf": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "95",
            "created": "2014-01-17 17:49:31",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/purchase\/model\/purchase_quotes",
            "id": "52d96d2b-1120-473c-baca-58d90ac22bdf",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": "167",
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": "2014-01-17 17:54:26",
            "modified_by": "1",
            "module_id": "27263e01-e746-11e3-aad5-0800275f9930",
            "name": "Resubmit for Approval",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": null,
            "record_flags": null,
            "revision": "2",
            "rgt": "168",
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "$object->exitNode();"
        },
        "532093b6-506c-4349-9e96-1047ac100612": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "95",
            "created": "2014-03-12 17:04:54",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/sales\/model\/quotes",
            "id": "532093b6-506c-4349-9e96-1047ac100612",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": null,
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": null,
            "modified_by": null,
            "module_id": "272638e3-e746-11e3-aad5-0800275f9930",
            "name": "Denied",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": null,
            "record_flags": null,
            "revision": "1",
            "rgt": null,
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "$object->exitNode();"
        },
        "53889607-08d8-4daf-81f6-2934ac1007a5": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "95",
            "created": "2015-06-01 21:35:25",
            "created_by": null,
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/leave_management\/model\/leave_allocations",
            "id": "53889607-08d8-4daf-81f6-2934ac1007a5",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "0",
            "is_terminal": null,
            "lft": null,
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": null,
            "modified_by": null,
            "module_id": "27265500-e746-11e3-aad5-0800275f9930",
            "name": "Leave Allocations",
            "old_parent_id": null,
            "owned_by": "1",
            "parent_id": null,
            "record_flags": null,
            "revision": "1",
            "rgt": null,
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "$object->exitnode();"
        },
        "52a37d56-4ff4-4217-bc3e-76610a550b97": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "74",
            "created": "2013-12-07 19:56:06",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/sales\/model\/sale_orders",
            "id": "52a37d56-4ff4-4217-bc3e-76610a550b97",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": null,
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": "2013-12-20 21:57:59",
            "modified_by": "1",
            "module_id": "272638e3-e746-11e3-aad5-0800275f9930",
            "name": "Convert To Delivery Order On Sale Order Submission",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": null,
            "record_flags": null,
            "revision": "1",
            "rgt": null,
            "run_once": null,
            "runlevel": "4",
            "stage_id": "91",
            "then_condition": "$dataSO=$object->data['entity'];\r\npr($dataSO);\r\nthrow new \\Exception('Gaurav exception');\r\nif(is_array($dataSO)){\r\n   $doObject=\\module\\sales\\model\\delivery_orders::getInstance();\r\n   $dataSO['sale_order_id']=$dataSO['id'];\r\n   $dataSO=array_diff_key($dataSO,\r\n   array($doObject->primaryKey=>1,\r\n   'status'=>1,\r\n   '_acl'=>1,\r\n   '_acl_edit'=>1,\r\n   '_acl_delete'=>1));\r\n   \r\n   if(isset($dataSO['sale_order_lines']) && is_array($dataSO['sale_order_lines'])){\r\n       $dataSO['delivery_order_lines']=array();\r\n       foreach($dataSO['sale_order_lines'] as $line){\r\n           if(!(isset($line['deleted']) && $line['deleted'] == 1)){\r\n              unset($line['id']);\r\n              $dataSO['delivery_order_lines'][]=$line;       \r\n           }\r\n       }\r\n       unset($dataSO['sale_order_lines']);\r\n   }\r\n   unset($dataSO['delivery_order_lines']);\r\n   pr($dataSO);\r\n   if($doObject->save($dataSO,array('atomic'=>true))){\r\n       $object->exitNode();\r\n   }    \r\n}\r\n"
        },
        "52a5cbaf-1370-4b8d-a3bc-66370a550b97": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "51",
            "created": "2013-12-09 13:54:55",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/sales\/model\/sale_orders",
            "id": "52a5cbaf-1370-4b8d-a3bc-66370a550b97",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": null,
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": "2014-04-04 00:00:53",
            "modified_by": "1",
            "module_id": "272638e3-e746-11e3-aad5-0800275f9930",
            "name": "Action 'Create Delivery Order'",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": null,
            "record_flags": null,
            "revision": "1",
            "rgt": null,
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "$dataSales=$object->data['entity'];\r\nif(is_array($dataSales)){\r\n   $soObject=\\module\\stock\\model\\delivery_orders::getInstance();\r\n   $dataSales['sale_order_id']=$dataSales['id'];\r\n   \r\n   $dataSales['effective_from']=date('Y-m-d H:i:s');\r\n   $dataSales['effective_to']=date(\"Y-m-d H:i:s\", strtotime(\"+ 10 day\"));\r\n   $dataSales=array_diff_key($dataSales,\r\n   array($soObject->primaryKey=>1,\r\n   'status'=>1,\r\n   '_acl'=>1,\r\n   '_acl_edit'=>1,\r\n   '_acl_delete'=>1));\r\n   if(isset($dataSales['sale_order_lines']) && is_array($dataSales['sale_order_lines'])){\r\n       $dataSales['delivery_order_lines']=array();\r\n       foreach($dataSales['sale_order_lines'] as $line){\r\n           if(!(isset($line['deleted']) && $line['deleted'] == 1)){\r\n              unset($line['id']);\r\n              if(isset($line['line_taxes']) && is_array($line['line_taxes'])){\r\n                foreach($line['line_taxes'] as $k=>$v){\r\n                     $line['line_taxes'][$k]=array_diff_key($v,array('id'=>1,'related_to'=>1,'related_to_model'=>1,'__related_to'=>1));\r\n                }\r\n              }\r\n              $dataSales['delivery_order_lines'][]=$line;\r\n           }\r\n       }\r\n       unset($dataSales['sale_order_lines']);\r\n   }\r\n    if(isset($dataSales['line_taxes_summary']) && is_array($dataSales['line_taxes_summary'])){\r\n        foreach($dataSales['line_taxes_summary'] as $k=>$v){\r\n            $dataSales['line_taxes_summary'][$k]=array_diff_key($v,array('id'=>1,'related_to'=>1,'related_to_model'=>1,'__related_to'=>1));\r\n        }\r\n    }\r\n   $dataSales['action'] = array('draft'=>'draft');\r\n   if($soObject->save($dataSales,array('atomic'=>true, 'validate'=>FALSE))){\r\n       $object->exitNode();\r\n   }    \r\n}"
        },
        "52a5d395-407c-4eee-a320-69260a550b97": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "72",
            "created": "2013-12-09 14:28:37",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/sales\/model\/sale_orders",
            "id": "52a5d395-407c-4eee-a320-69260a550b97",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": null,
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": "2014-04-04 22:12:00",
            "modified_by": "1",
            "module_id": "272638e3-e746-11e3-aad5-0800275f9930",
            "name": "Action 'Create Invoice'",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": null,
            "record_flags": null,
            "revision": "1",
            "rgt": null,
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "$dataSales=$object->data['entity'];\r\nif(is_array($dataSales)){\r\n   $invObject=\\module\\accounting\\model\\invoices::getInstance();\r\n   $dataSales['related_to']=$dataSales['id'];\r\n   $dataSales['__related_to']=$dataSales['number'];\r\n   $dataSales['related_to_model']='sale_orders';\r\n   $dataSales['invoice_date']=date('Y-m-d H:i:s');\r\n   \/\/$dataSales['effective_to']=date(\"Y-m-d H:i:s\", strtotime(\"+ 10 day\"));\r\n   $dataSales['partner_id']=$dataSales['account_id'];\r\n   $dataSales['due_date']=$dataSales['delivery_date'];\r\n   $dataSales['balance_due']=$dataSales['total_after_discount'];\r\n   $dataSales=array_diff_key($dataSales,\r\n   array($invObject->primaryKey=>1,\r\n   'status'=>1,\r\n   '_acl'=>1,\r\n   '_acl_edit'=>1,\r\n   '_acl_delete'=>1));\r\n   if(isset($dataSales['sale_order_lines']) && is_array($dataSales['sale_order_lines'])){\r\n       $dataSales['invoice_lines']=array();\r\n       foreach($dataSales['sale_order_lines'] as $line){\r\n           if(!(isset($line['deleted']) && $line['deleted'] == 1)){\r\n              unset($line['id']);\r\n              if(isset($line['line_taxes']) && is_array($line['line_taxes'])){\r\n                foreach($line['line_taxes'] as $k=>$v){\r\n                     $line['line_taxes'][$k]=array_diff_key($v,array('id'=>1,'related_to'=>1,'related_to_model'=>1,'__related_to'=>1));\r\n                }\r\n              }\r\n              $dataSales['invoice_lines'][]=$line;       \r\n           }\r\n       }\r\n       unset($dataSales['sale_order_lines']);\r\n   }\r\n\r\n   if(isset($dataSales['line_taxes_summary']) && is_array($dataSales['line_taxes_summary'])){\r\n        foreach($dataSales['line_taxes_summary'] as $k=>$v){\r\n            $dataSales['line_taxes_summary'][$k]=array_diff_key($v,array('id'=>1,'related_to'=>1,'related_to_model'=>1,'__related_to'=>1));\r\n        }\r\n    }\r\n   \r\n   $dataSales['action'] = array('draft'=>'draft');\r\n    if($invObject->save($dataSales,array('atomic'=>true, 'validate'=>FALSE))){\r\n       $object->exitNode();\r\n   }    \r\n}"
        },
        "52a5d42a-90ac-4ec9-bae9-69d80a550b97": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "37",
            "created": "2013-12-09 14:31:06",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/sales\/model\/sale_orders",
            "id": "52a5d42a-90ac-4ec9-bae9-69d80a550b97",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": null,
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": "2014-04-21 09:31:37",
            "modified_by": "1",
            "module_id": "272638e3-e746-11e3-aad5-0800275f9930",
            "name": "Action 'Paid'",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": null,
            "record_flags": null,
            "revision": "1",
            "rgt": null,
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "\/*$accountObj = \\module\\crm\\model\\accounts::getInstance();\r\n$accountData = current($accountObj->read($object->data['entity']['account_id']));\r\n$accountRevenue = $accountData['annual_revenue'] + $object->data['entity']['total_after_discount'];\r\nupdate(array('annual_revenue' => $accountRevenue))\r\n        ->from($accountObj)\r\n        ->where($accountObj->primaryKey, $object->data['entity']['account_id'])\r\n        ->execute();\r\n*\/\r\n$object->exitNode();"
        },
        "52daa2f7-12f0-49c6-b53b-50ef0ac22bdf": {
            "_acl": null,
            "_acl_delete": null,
            "_acl_edit": null,
            "_acl_tmp": null,
            "_acl_tmp_delete": null,
            "_acl_tmp_edit": null,
            "action_id": "37",
            "created": "2014-01-18 15:51:19",
            "created_by": "-1",
            "data_conflict": null,
            "deleted": "0",
            "description": null,
            "else_condition": null,
            "event": null,
            "filter_path": "\/module\/accounting\/model\/invoices",
            "id": "52daa2f7-12f0-49c6-b53b-50ef0ac22bdf",
            "if_condition": "1",
            "is_commit_pending": "0",
            "is_demo_data": "0",
            "is_public": "1",
            "is_terminal": null,
            "lft": null,
            "md5": null,
            "message_error": null,
            "message_info": null,
            "message_warn": null,
            "modified": null,
            "modified_by": null,
            "module_id": "2726306c-e746-11e3-aad5-0800275f9930",
            "name": "Receive Payment",
            "old_parent_id": null,
            "owned_by": "-2",
            "parent_id": null,
            "record_flags": null,
            "revision": "1",
            "rgt": null,
            "run_once": null,
            "runlevel": "2",
            "stage_id": null,
            "then_condition": "\/\/ if not set, then set draft as current node.\r\n        \/\/  log is empty\r\n        if (!$object->isLogSet()) {\r\n            \/\/  set nodes\r\n            $object->setWorkflowLog(array(array('can_edit' => 1, 'foreign_key' => \\tushar\\user::read('id'), 'foreign_key_model' => 'users')));\r\n        }\r\n        \/\/  then set draft as current node.->invoke enter event for current stage\r\n        $node = $object->node($object->nodeID());\r\n        \/\/ check if node is valid and exists in log.\r\n        if ($node['status'] == 'open') {\r\n            $object->logAction($node['id']);\r\n            \/\/ exit current stage\r\n            $object->exitNode();\r\n        }\r\n\r\n"
        }
    },
    "move_to_stages": {
        "161": {
            "__stage_id": "Draft",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "161",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": null,
            "owned_by": null,
            "possible_action_id": "121",
            "relationship": "is_sibling",
            "revision": "1",
            "stage_id": "74"
        },
        "162": {
            "__stage_id": "Pending Manager's Approval ",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "162",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": null,
            "owned_by": null,
            "possible_action_id": "122",
            "relationship": "is_sibling",
            "revision": "1",
            "stage_id": "75"
        },
        "228": {
            "__stage_id": "Sent to Client",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "228",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": null,
            "owned_by": null,
            "possible_action_id": "182",
            "relationship": "is_sibling",
            "revision": "1",
            "stage_id": "76"
        },
        "163": {
            "__stage_id": "Sent to Client",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "163",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": null,
            "owned_by": null,
            "possible_action_id": "123",
            "relationship": "is_sibling",
            "revision": "1",
            "stage_id": "76"
        },
        "164": {
            "__stage_id": "Denied",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "164",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": null,
            "owned_by": null,
            "possible_action_id": "124",
            "relationship": "is_sibling",
            "revision": "1",
            "stage_id": "183"
        },
        "165": {
            "__stage_id": "Pending Follow Up",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "165",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": null,
            "owned_by": null,
            "possible_action_id": "125",
            "relationship": "is_sibling",
            "revision": "1",
            "stage_id": "77"
        },
        "167": {
            "__stage_id": "Closed Won",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "167",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": null,
            "owned_by": null,
            "possible_action_id": "127",
            "relationship": "is_sibling",
            "revision": "1",
            "stage_id": "78"
        },
        "179": {
            "__stage_id": "Closed Lost",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "179",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": null,
            "owned_by": null,
            "possible_action_id": "139",
            "relationship": "is_child",
            "revision": "1",
            "stage_id": "88"
        },
        "183": {
            "__stage_id": "Draft",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "183",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": null,
            "owned_by": null,
            "possible_action_id": "143",
            "relationship": "is_sibling",
            "revision": "1",
            "stage_id": "74"
        },
        "232": {
            "__stage_id": null,
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "232",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": null,
            "owned_by": null,
            "possible_action_id": "187",
            "relationship": null,
            "revision": "1",
            "stage_id": null
        },
        "343": {
            "__stage_id": "Pending Manager's Approval ",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "343",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": null,
            "owned_by": null,
            "possible_action_id": "293",
            "relationship": "is_sibling",
            "revision": "1",
            "stage_id": "75"
        },
        "180": {
            "__stage_id": "Credit Check",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "180",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": null,
            "owned_by": null,
            "possible_action_id": "140",
            "relationship": "is_sibling",
            "revision": "1",
            "stage_id": "90"
        },
        "181": {
            "__stage_id": null,
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "181",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": null,
            "owned_by": null,
            "possible_action_id": "141",
            "relationship": null,
            "revision": "1",
            "stage_id": null
        },
        "182": {
            "__stage_id": "Confirmed",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "182",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": null,
            "owned_by": null,
            "possible_action_id": "142",
            "relationship": "is_sibling",
            "revision": "1",
            "stage_id": "91"
        },
        "344": {
            "__stage_id": "Draft",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "344",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": null,
            "owned_by": null,
            "possible_action_id": "294",
            "relationship": "is_sibling",
            "revision": "1",
            "stage_id": "89"
        },
        "212": {
            "__stage_id": "Delivered",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "212",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": null,
            "owned_by": null,
            "possible_action_id": "172",
            "relationship": "is_sibling",
            "revision": "1",
            "stage_id": "93"
        },
        "216": {
            "__stage_id": "Invoiced",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "216",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": null,
            "owned_by": null,
            "possible_action_id": "176",
            "relationship": "is_sibling",
            "revision": "1",
            "stage_id": "105"
        },
        "220": {
            "__stage_id": "Closed",
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "220",
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "name": null,
            "owned_by": null,
            "possible_action_id": "180",
            "relationship": "is_sibling",
            "revision": "1",
            "stage_id": "106"
        }
    },
    "actions_notifications": {
        "4": {
            "action_id": "3",
            "actions_notifications_flags": null,
            "created": "2015-06-01 21:35:26",
            "created_by": null,
            "deleted": "0",
            "flags": null,
            "id": "4",
            "imported": null,
            "imported_by": null,
            "is_demo_data": "0",
            "modified": null,
            "modified_by": null,
            "notification_id": "4",
            "old_rule_id": null,
            "owned_by": null,
            "revision": "1",
            "rule_id": null
        }
    },
    "notifications_stages": []
}